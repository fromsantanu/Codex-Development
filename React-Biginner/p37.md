# Chapter 37. Infinite Scroll

## Introduction
- The Infinite Scroll page helps the Sunrise Clinic Scheduling Desk team handle the clinic flow without confusion.
- The React front end calls /api/appointments so this screen stays in sync with the backend API.

## Key Concepts
- Patterns like modals and tabs feel like telling someone to step into a private consultation room for a moment.
- Infinite Scroll benefits from these rituals so the desk person stays in control without clutter at Sunrise Clinic Scheduling Desk.

## Step-by-step Implementation
1. Lay out the Infinite Scroll intro card
   - Explanation Start with a friendly section so the Sunrise Clinic desk knows what Infinite Scroll is about.
   ```jsx
   function InfiniteScrollIntro() {
     return (
       <section className='intro-card'>
         <h2>Infinite Scroll at Sunrise Clinic Scheduling Desk</h2>
         <p>Welcome back, front desk! This section explains why Infinite Scroll matters today.</p>
       </section>
     );
   }
   ```
   - Codex help: Ask Codex to build the InfiniteScrollIntro section with a warm heading and short explanation for Infinite Scroll.

2. Load more Infinite Scroll with infinite scroll
   - Explanation Infinite scroll keeps appointments coming like a gentle conveyor belt at Sunrise Clinic Scheduling Desk.
   ```jsx
   function InfiniteScrollScroll() {
     const [items, setItems] = useState([1, 2]);
     useEffect(() => {
       const handler = () => setItems(prev => [...prev, prev.length + 1]);
       window.addEventListener('scroll', handler);
       return () => window.removeEventListener('scroll', handler);
     }, []);
     return <div>{items.map(i => <p key={i}>Item {i} for Infinite Scroll</p>)}</div>;
   }
   ```
   - Codex help: Ask Codex to extend the Infinite Scroll list as you scroll down, adding new items automatically.

3. Call the API for Infinite Scroll
   - Explanation Connect to /api/appointments with GET so the sunrise clinic frontend keeps Infinite Scroll mirrored with the backend.
   ```jsx
   const [records, setRecords] = useState([]);
   useEffect(() => {
     async function syncData() {
       const response = await fetch('/api/appointments', {
         method: 'GET',
       });
       if (!response.ok) throw new Error('Failed to load Infinite Scroll');
       const data = await response.json();
       setRecords(data);
     }
     syncData();
   }, []);
   return <p>Infinite Scroll records: {records.length}</p>;
   ```
   - Codex help: Ask Codex to craft the fetch block that calls /api/appointments for Infinite Scroll and stores the result.

## How to Use Codex Here
- Generate a React component that fetches Infinite Scroll from /api/appointments and lists it in friendly cards.
- Refactor the Infinite Scroll component so it splits the header and list parts into child components.
- Add loading and error messages for the Infinite Scroll fetch that talks to /api/appointments.

## Mini-Exercise (Optional)
- Create a second pattern variant (for example, a second modal or toast) to show how Infinite Scroll can adapt.
