# Chapter 17. AI Clinic Assistant

*(Receptionist Agent + Medical Agent Working Together)*

When you visit a clinic, usually two things happen:

1. **Receptionist** talks to you first

   * Takes your name, phone, reason for visit
   * Checks doctor’s schedule
   * Books an appointment

2. **Doctor or nurse** talks about your health

   * Asks about symptoms
   * Asks how long you’ve had them
   * Decides what to do next

An **AI Clinic Assistant** with agents tries to copy this same flow.

---

## 1. The main idea

We will build a small **two-agent system**:

1. **Receptionist Agent**

   * Handles intake: name, age, contact, main complaint
   * Suggests time slot or doctor
   * Speaks in friendly, simple language

2. **Medical Agent**

   * Focuses on symptoms and health summary
   * Asks follow-up questions (duration, severity, related issues)
   * Prepares a **short summary** that a real doctor could read

The user feels like they are chatting with **one smart assistant**,
but inside, two agents are working together.

---

## 2. Roles of the two agents

### 2.1 Receptionist Agent

Focus: **front desk work**

* Collects:

  * Name, age, gender (optional)
  * Phone number, email
  * Reason for visit in one line (“stomach pain”, “fever and cough”, etc.)
* Checks simple things like:

  * Preferred date and time
  * New patient or existing patient

Real-life analogy:
The person sitting at the clinic desk with a form and a register.

The receptionist agent does **not** give medical advice.
It only organizes basic details and appointment info.

---

### 2.2 Medical Agent

Focus: **health description**

* Takes the main complaint from receptionist agent
* Asks follow-up questions, like:

  * “Since when do you have this problem?”
  * “Where exactly is the pain?”
  * “Do you have fever, vomiting, or any other symptom?”
* Creates a **summary for the doctor**, e.g.:

> “45-year-old male with upper abdominal pain for 3 days,
> moderate intensity, worse after meals, no vomiting, mild acidity.”

Real-life analogy:
Like a junior doctor or nurse who prepares a brief file before the senior doctor sees you.

This agent **never** gives diagnosis or prescription on its own
(unless you explicitly design it for that and add strong safety rules).

---

## 3. Simple workflow: step by step

Let’s imagine a patient chatting with the system:

> User: “I have been having headache and nausea since yesterday, I want to see a doctor tomorrow.”

**Step 1 — Receptionist Agent starts**

* Greets user.
* Asks basics:

  * “May I have your name, age, and phone number?”
* Asks for preferred time:

  * “Do you prefer morning or evening tomorrow?”
* Records main complaint:

  * “I will note: ‘Headache and nausea since yesterday.’ Is that correct?”

At the end, receptionist agent creates a small **intake record**, like:

* Name: Rohan
* Age: 32
* Phone: 98xxxxxxx
* Complaint: headache and nausea since yesterday
* Preferred time: tomorrow evening

**Step 2 — Receptionist hands over to Medical Agent**

Receptionist agent shares the complaint and some basic info with medical agent:

> “Patient: Rohan, 32, headache and nausea since yesterday, wants appointment tomorrow evening.”

**Step 3 — Medical Agent asks health questions**

Medical agent may ask:

* “Where is the headache located (front, back, one side)?”
* “Do you have fever, blurred vision, or sensitivity to light?”
* “On a scale of 1 to 10, how strong is the pain?”

It uses answers to build a clear summary.

**Step 4 — Medical Agent prepares summary for doctor**

For example:

> “32-year-old male with frontal headache and nausea for ~24 hours.
> Pain 6/10, worse when bending forward, no fever, no vomiting, no visual changes, no neck stiffness.
> Wants appointment tomorrow evening.”

**Step 5 — Receptionist confirms booking**

Receptionist agent then:

* Picks a time slot (e.g., 6:30 PM)
* Confirms appointment with user
* Shows a simple summary:

> “Rohan, I’ve booked your appointment for tomorrow at 6:30 PM.
> Here is the summary I will share with the doctor…”

So the AI system:

* Saves the doctor’s time (doctor gets a ready summary)
* Makes the patient feel heard and organized

---

## 4. A simple Autogen-style conversation workflow

Below is a **very simplified sketch** of how you can model this using Autogen.
Don’t worry about every detail — just try to see the story in the code comments.

```python
from autogen import AssistantAgent, UserProxyAgent, GroupChat, GroupChatManager

# 1. User agent – represents the patient
user = UserProxyAgent(
    name="patient",
    human_input_mode="ALWAYS",
)

# 2. Receptionist agent – intake & appointment
receptionist = AssistantAgent(
    name="receptionist_agent",
    system_message=(
        "You are a clinic receptionist. "
        "Your job: collect patient's name, age, contact, and main health complaint, "
        "plus preferred date/time. "
        "DO NOT give medical advice. "
        "At the end, write a short 'intake summary' for the medical agent."
    ),
)

# 3. Medical agent – symptom summary (not a real doctor)
medical = AssistantAgent(
    name="medical_agent",
    system_message=(
        "You are a medical intake assistant, NOT a doctor. "
        "You ask follow-up questions about symptoms (onset, duration, severity, location, "
        "associated symptoms). "
        "You then write a clear, short summary for a human doctor. "
        "Do not prescribe or diagnose; just summarize."
    ),
)

# 4. Group chat where receptionist and medical agents cooperate
group_chat = GroupChat(
    agents=[user, receptionist, medical],
    messages=[],
    max_round=10,
)

manager = GroupChatManager(groupchat=group_chat, name="manager")

# 5. Start the workflow with the patient speaking
user.initiate_chat(
    manager,
    message=(
        "I have had headache and nausea since yesterday "
        "and I want to see a doctor tomorrow evening."
    ),
)
```

**What this script sets up:**

* A **patient** (user) enters the chat.
* **Receptionist agent** leads first, collects basics and writes an intake summary.
* **Medical agent** reads that intake and asks health-focused questions.
* Finally, the medical agent prepares a short summary, and the receptionist can confirm booking.

In a more advanced version, you could:

* Store intake and summary in a **database**
* Integrate with a **real appointment system**
* Show the summary on a **doctor dashboard**

---

## 5. How this helps real clinics

Even a small clinic can benefit from such an AI assistant:

* Less time on phone calls and WhatsApp
* Cleaner, standard format for patient information
* Doctor gets a quick snapshot instead of starting from zero each time
* Patients feel that someone is listening carefully

For your **agentic AI learning**, this example shows:

* How to split work into **front-desk tasks** and **medical intake tasks**
* How two agents can **hand over information** between each other
* How to keep **safety rules** (no self-prescription, no final diagnosis)

---

## 6. Takeaway

* The AI Clinic Assistant uses **two agents**:

  * **Receptionist Agent** → intake + appointment
  * **Medical Agent** → symptom questions + summary for doctor
* They talk to each other in the background and share structured information.
* This pattern can be extended into full **AI clinic systems**:
  triage agent, lab agent, billing agent, follow-up agent, and more.

---

## Codex Instruction Prompt for This Chapter

Here is a short, clear instruction you can give to Codex:

> **“Create a simple Autogen workflow with two agents: a receptionist agent that collects patient details and main complaint, and a medical agent that asks follow-up questions about symptoms and produces a short summary for a human doctor. Show the conversation flow in code and add comments for beginners.”**
