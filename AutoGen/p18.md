# Chapter 18. AI Sales Support System

*(Recommender, Negotiator, and Email Writer)*

Imagine you run a small online shop.

For each customer, you often have to:

1. Suggest the **right product**
2. Discuss **price / discount**
3. Send a **clear, polite email** with the final offer

An **AI Sales Support System** helps you do all three.
It behaves like a small sales team that works 24×7.

---

## 1. The main idea

We will imagine three roles:

1. **Product Recommender**

   * Suggests which products fit the customer’s needs

2. **Pricing Negotiator**

   * Suggests final price, discount, or bundle

3. **Salesperson / Email Drafter**

   * Writes a clean, friendly email to the customer
   * Explains offer, price, and next steps

In this chapter, we will focus more on **email drafting**,
because that is your Codex task.

---

## 2. The three agents in plain language

### 2.1 Product Recommender Agent

* Reads what the customer wants:

  * “I need a laptop for programming and browsing.”
  * “I want a washing machine for a family of 4.”
* Looks at product list (laptops, models, features, etc.).
* Suggests 2–3 items with simple reasons:

  * “Model A: cheaper, good battery.”
  * “Model B: better performance.”

Real-life analogy:
A shop assistant who listens to you and points to suitable shelves.

---

### 2.2 Pricing Negotiator Agent

* Works with **rules** you decide:

  * Max discount %
  * Extra discount for old customers
  * Special festive offers
* Suggests:

  * Final price
  * Any bundle (e.g., laptop + bag)
  * Simple explanation:
    “I can give you 5% off and free delivery.”

Real-life analogy:
A person in the back office who says,
“Okay, we can give this much discount, not more.”

---

### 2.3 Salesperson / Email Drafter Agent

This is the agent we focus on for **Codex**.

It takes input like:

* Customer name
* Recommended product(s)
* Final price / discount from pricing agent
* Extra notes (delivery time, warranty, etc.)

Then it writes a **polite, clear email**, for example:

> “Dear Ms. Roy,
>
> Based on your requirement for a laptop for programming and browsing,
> we recommend Model X… Here are the details…
> The final price after discount is…
> Please reply if you’d like to proceed or have questions.”

Real-life analogy:
A salesperson who writes follow-up emails after talking to you in the showroom.

---

## 3. Simple sales flow: step by step

Let’s imagine a B2C example.

> Salesperson (human) talks to customer on phone.
> Customer: “I want a mid-range phone with good camera under ₹20,000.”

1. **Human salesperson** feeds details into the system:

   * “Customer: Anil, wants mid-range phone, focus on camera, budget ₹20,000.”

2. **Product Recommender Agent**:

   * Suggests 2–3 phone models with short reasons.

3. **Pricing Negotiator Agent**:

   * Looks at price list and discount rules.
   * Chooses final price and any offer.

4. **Salesperson / Email Agent**:

   * Takes:

     * Customer name
     * Models from recommender
     * Final price / discount
   * Drafts a neat email that:

     * Summarizes offer
     * Uses polite tone
     * Ends with a clear call to action
       (“Please reply if you’d like to confirm the order.”)

5. **Human salesperson**:

   * Reads the drafted email, makes small edits if needed
   * Sends it to the customer

This way, the AI does **80% of the writing work**,
and the human only checks and sends.

---

## 4. Simple Autogen code: salesperson agent drafts email

Below is a very simple sketch that focuses on the **email agent**.
We will treat product and price as already decided.

```python
from autogen import AssistantAgent, UserProxyAgent

# 1. UserProxyAgent represents the human salesperson
salesperson = UserProxyAgent(
    name="human_salesperson",
    human_input_mode="ALWAYS",
)

# 2. Email drafting agent – writes customer emails
email_agent = AssistantAgent(
    name="email_agent",
    system_message=(
        "You are a sales email assistant. "
        "You write short, polite, and clear emails to customers. "
        "Use simple language. "
        "Include: greeting, product recommendation summary, price/discount, "
        "and a friendly closing with a call to action. "
        "Do NOT invent products or prices; only use what the user gives."
    ),
)

# 3. Human salesperson asks the AI to draft an email
context_message = """
Customer name: Anil Sharma
Customer context: Wants a mid-range smartphone with good camera, budget around ₹20,000.
Recommended product: PixelLite X2 (64MP camera, 8GB RAM, 128GB storage)
Offer details: Final price after discount is ₹18,999 with 1-year warranty and free delivery.
Extra notes: Delivery within 3–5 working days in Kolkata city limits.
"""

salesperson.initiate_chat(
    email_agent,
    message=(
        "Please draft a customer email using the details below. "
        "Keep it friendly, simple, and professional.\n\n"
        + context_message
    ),
)
```

**What this code does (story view):**

* The **human_salesperson** agent represents you.
* The **email_agent** is told: “You are good at writing sales emails.”
* You pass a **block of details** (name, product, price, offer).
* The AI replies with a full, ready-to-use email draft.

You can adapt this:

* Use it after each phone call or chat with a customer.
* Plug it into a CRM system.
* Log emails into your database before sending.

---

## 5. How this helps real sales teams

This kind of AI support can:

* Save time writing repetitive emails
* Make tone **consistent** and **polite**
* Reduce mistakes (forgetting to mention warranty, delivery time, etc.)
* Let humans focus more on:

  * Understanding customer
  * Closing deals
  * Handling special cases

You can later combine all three agents:

* Recommender Agent → chooses product
* Pricing Agent → sets final price
* Email Agent → writes email

For now, even **only the email agent** is a big productivity boost.

---

## 6. Takeaway

* AI can support sales by:

  * Recommending products
  * Negotiating within fixed rules
  * Drafting clean customer emails

* In this chapter, you saw how to:

  * Define an **email agent** with a clear role
  * Give it **structured input** (name, product, price)
  * Let it draft a ready email for the salesperson

This is a common pattern in agentic systems:
**specialist agents + human approval**.

---

## Codex Instruction Prompt for This Chapter

You can ask Codex like this:

> **“Write a Python Autogen script where a human salesperson sends customer and offer details to an email-drafter agent. The agent should generate a polite sales email with product recommendation, price, discount, and next steps. Add simple comments so beginners can understand.”**
