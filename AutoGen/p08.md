# Chapter 8. Group Chat Between Agents

**Multiple roles working together**

---

#### 1. What is a “group chat” between agents?

So far we saw:

* **1 agent** helping a human (homework helper)
* **2 agents** talking to each other (customer + product expert)

Now we move to **group chat**:

* **3 or more agents**
* Each has a **different role**
* They **discuss together** in one shared conversation

You can imagine it like a **WhatsApp group**, but all members are AIs with specific jobs.

---

#### 2. Real-life picture: Business team meeting

Think of a company planning to **launch a new product**.

In a meeting room, you might see:

1. **Marketing Manager**

   * Thinks about customers
   * Plans promotions, ads, social media

2. **Finance Manager**

   * Checks cost, profit, budget
   * Asks, “Can we afford this?”

3. **HR Manager**

   * Thinks about hiring, training staff
   * Asks, “Do we have the people and skills for this?”

They all sit together and talk:

* Marketing: “We should launch in 2 cities first with a big ad campaign.”
* Finance: “Big campaign is expensive. Our budget is limited. Maybe start with only 1 city.”
* HR: “If we launch in 2 cities, we must hire 5 more salespeople.”

They **discuss**, **disagree**, and finally reach a **joint plan**.

Now imagine the same thing, but with **3 Autogen agents**:

* Marketing Agent
* Finance Agent
* HR Agent

Autogen lets them **chat in a group**, just like people.

---

#### 3. Why group chats are powerful

Group-agent chat is useful when:

* You want **different perspectives** (money, people, customers, tech)
* You want them to **check each other’s ideas**
* You want a **final, balanced decision**

Examples:

* Deciding a **product launch plan**
* Planning a **clinic expansion** (doctors, cost, staff)
* Designing a **school course** (teachers, budget, timetable)

Each agent has its own **role** and **rules**.
They share one **conversation space** and reply in turns.

---

#### 4. How Autogen handles group chat (simple idea)

In Python with Autogen, you usually:

1. **Create multiple agents**

   * `marketing_agent`
   * `finance_agent`
   * `hr_agent`

2. Give each a **system message** (who they are, what to focus on)

3. Use a **manager or group chat controller** (often a `UserProxyAgent` or `GroupChat` helper) to:

   * Start the conversation
   * Let them talk for several rounds
   * Stop when a final summary is ready

Conceptually, it looks like this:

```python
from autogen import AssistantAgent, UserProxyAgent  # plus GroupChat in newer versions

marketing_agent = AssistantAgent(
    name="marketing_agent",
    system_message=(
        "You are the Marketing Manager. "
        "Focus on customers, branding, and promotion. "
        "Suggest simple marketing ideas for launching a new product."
    ),
    llm_config={"model": "gpt-4o-mini", "temperature": 0.6}
)

finance_agent = AssistantAgent(
    name="finance_agent",
    system_message=(
        "You are the Finance Manager. "
        "Focus on costs, budget, and profit. "
        "Keep the plan realistic and point out expensive ideas."
    ),
    llm_config={"model": "gpt-4o-mini", "temperature": 0.3}
)

hr_agent = AssistantAgent(
    name="hr_agent",
    system_message=(
        "You are the HR Manager. "
        "Focus on people, hiring, and training. "
        "Check whether we have enough staff and skills."
    ),
    llm_config={"model": "gpt-4o-mini", "temperature": 0.4}
)

manager = UserProxyAgent(
    name="boss",
    human_input_mode="NEVER"
)

# In newer Autogen, you might wrap this in a GroupChat object;
# here we show a simplified "manager starts chat" idea.
manager.initiate_chat(
    marketing_agent,
    message="Discuss with finance_agent and hr_agent about launching a new product in one city. Reach a final plan.",
    other_agents=[finance_agent, hr_agent]
)
```

In plain language:

* We build 3 “characters”: Marketing, Finance, HR.
* We tell the **boss agent**: “Let them talk about launching a product.”
* They all reply in the same group, taking turns.

Their conversation might look like:

* Marketing: “Let’s launch in City A with social media ads and a small event.”
* Finance: “Our budget allows only a small event. Please limit ad spend.”
* HR: “We must train 3 salespeople in City A before launch.”
* Marketing: “Okay, I’ll reduce ad spend and use more organic content.”
* Finance: “That fits the budget now.”
* HR: “Training can be finished in 3 weeks.”
* Marketing or Finance or HR: “FINAL PLAN: …”

---

#### 5. How this helps in real life

You can adapt this group chat idea to many domains:

* **Healthcare**:

  * Clinical agent, cost agent, patient-support agent
* **Education**:

  * Curriculum agent, exam agent, counseling agent
* **Data engineering**:

  * Data ingestion agent, validation agent, reporting agent

In each case, **group chat**:

* Splits thinking into **clear roles**
* Reduces mistakes (one agent checks another)
* Produces a **more complete plan**

As a designer, you mostly:

* Decide **which roles** you need
* Give each a good **system message**
* Let Autogen handle the **group conversation**

---

#### 6. Takeaway

* Group chat = **3 or more agents** talking together.
* Each agent plays a **role** (marketing, finance, HR, etc.).
* Autogen lets them **discuss and refine** a plan, like a real team meeting.
* This is useful for any **multi-angle decision**: money + people + strategy.
* Your main job is to define **roles, goals, and stopping condition** (e.g., “FINAL PLAN”).

---

### Codex task for this chapter

**Instruction for Codex:**

> “Create 3 Autogen agents talking about launching a new product: a Marketing agent, a Finance agent, and an HR agent. Use a group chat so they all discuss together and finally agree on a simple launch plan. Add clear comments explaining each part of the code for beginners.”
