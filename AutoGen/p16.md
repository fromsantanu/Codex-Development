# Chapter 16. AI Travel Planner (3 Agents Working Together)

Planning a trip usually means many tabs open in your browser:

* One for flights
* One for hotels
* One for checking your budget

An **AI travel planner** with agents is like having three helpers sitting beside you:

1. A **Travel Agent** who finds flights
2. A **Hotel Agent** who finds places to stay
3. A **Budget Agent** who keeps an eye on money

All three talk to each other so you don’t have to repeat things again and again.

---

## 1. The main idea

Think of this system like a small travel office:

* **You**: “I want to go from Kolkata to Delhi, 5–8 January, under ₹25,000.”
* **Travel Agent**: “Let me search flights.”
* **Hotel Agent**: “Let me find hotels near city centre.”
* **Budget Agent**: “Let me see if total cost is under ₹25,000. If not, I’ll suggest changes.”

Instead of one big, confused chatbot, we have **three simple agents**, each good at one job.

---

## 2. Roles of the three agents

### 2.1 Travel Agent

* Focus: **Flights / trains / transport**
* Typical tasks:

  * Finds flights between two cities on given dates
  * Sorts by price, duration, or airline
  * Suggests 2–3 best options

Real-life analogy:
Like a person at a travel desk who only handles tickets.

---

### 2.2 Hotel Agent

* Focus: **Stay / accommodation**
* Typical tasks:

  * Finds hotels or guest houses in a given area
  * Filters by rating, Wi-Fi, breakfast, etc.
  * Suggests budget, mid-range, and premium options

Real-life analogy:
Like a hotel booking counter at a mall that suggests places to stay.

---

### 2.3 Budget Agent

* Focus: **Money**
* Typical tasks:

  * Adds up flight + hotel costs
  * Checks if total is within your budget
  * If total is too high:

    * Asks Travel Agent: “Any cheaper flights?”
    * Or asks Hotel Agent: “Any cheaper hotel or different area?”

Real-life analogy:
Like a friend who always says, “Nice plan, but can we afford it?”

---

## 3. How the conversation flows

Let’s walk through a simple trip:

> You: “Plan a 3-day trip from Mumbai to Goa next month. Budget ₹18,000 including hotel.”

1. **User → Group of agents**

   * Your message is sent to the group: travel_agent, hotel_agent, budget_agent.

2. **Travel Agent responds first**

   * Finds 2–3 flights (or trains) with prices.
   * Shares result in the group chat.

3. **Hotel Agent responds**

   * Suggests 2–3 hotels with nightly prices.
   * Shares result in the group chat.

4. **Budget Agent checks**

   * Calculates: total_transport + total_hotel.
   * If **within budget**:

     * “Good news, this plan fits your ₹18,000 budget.”
   * If **over budget**:

     * “We are ₹3,000 over.
       Travel Agent, can we try a cheaper time or airline?
       Hotel Agent, any cheaper hotel a bit farther away?”

5. **Agents adjust plan**

   * Travel and Hotel agents update their choices.
   * Budget Agent keeps checking until it’s reasonable.

6. **Final plan to user**

   * A simple summary:

     * Best flight option
     * Best hotel option
     * Total cost
     * One or two backup options

---

## 4. A very simple Autogen-style sketch

Don’t worry if you don’t fully understand the code yet.
Just read the comments like a story.

```python
from autogen import AssistantAgent, UserProxyAgent, GroupChat, GroupChatManager

# 1. User agent – represents the human
user = UserProxyAgent(
    name="user",
    human_input_mode="ALWAYS",
)

# 2. Travel agent – focuses on flights
travel_agent = AssistantAgent(
    name="travel_agent",
    system_message=(
        "You are a travel booking agent. "
        "You find flight or train options between cities with prices and times. "
        "Keep answers short and simple."
    ),
)

# 3. Hotel agent – focuses on stay
hotel_agent = AssistantAgent(
    name="hotel_agent",
    system_message=(
        "You are a hotel booking agent. "
        "You suggest hotels with price per night, location, and rating. "
        "Offer 2–3 clear options."
    ),
)

# 4. Budget agent – checks costs
budget_agent = AssistantAgent(
    name="budget_agent",
    system_message=(
        "You are a budget checker. "
        "Read flight and hotel options from other agents, "
        "estimate total trip cost, compare with user's budget, "
        "and suggest cheaper alternatives if needed."
    ),
)

# 5. Group chat where all agents talk
group_chat = GroupChat(
    agents=[user, travel_agent, hotel_agent, budget_agent],
    messages=[],
    max_round=8,
)

manager = GroupChatManager(groupchat=group_chat, name="manager")

# 6. Start the conversation
user.initiate_chat(
    manager,
    message=(
        "Plan a 3-day trip from Mumbai to Goa next month. "
        "I want round-trip flights and a mid-range hotel. "
        "My total budget is ₹18,000."
    ),
)
```

**What this code does (in plain words):**

* Creates 4 characters: you, travel agent, hotel agent, budget agent
* Puts them into one shared chat room
* Sends your trip request into that chat
* Lets them talk to each other and produce a plan

In a real project, the travel and hotel agents would call real **APIs** to get live data.
For now, they can just “pretend” by making up reasonable options.

---

## 5. How this helps in real life

An AI travel planner like this can:

* Save you from jumping between 10 tabs
* Give you **one consistent plan** under budget
* Adjust quickly if you say:

  * “Make it cheaper”
  * “Change dates”
  * “Try different city or hotel area”

For a business, this can become:

* A travel assistant inside an HR portal
* A service for frequent travelers or small startups
* A demo project to show how **multi-agent systems** work

---

## 6. Takeaway

* Instead of **one big chatbot**, use **three simple agents**:

  * Travel Agent → flights/transport
  * Hotel Agent → stay
  * Budget Agent → money
* They talk to each other, share information, and fix the plan until it meets the user’s budget and needs.
* This pattern (specialist agents + budget/decision agent) is reusable for many domains, not just travel.

---

## Codex Instruction Prompt for This Chapter

You can give Codex a short, clear instruction like this:

> **“Generate a simple Autogen script with three agents: travel agent, hotel agent, and budget agent. The user asks for a trip plan with dates and budget, agents discuss options, and then return a final itinerary under budget with flights and hotel suggestions. Add clear comments for beginners.”**
