# Chapter 19. When **NOT** to Use GraphQL

### (Where REST is simpler, faster, and a better fit)

---

## 1. Simple Introduction

GraphQL is powerful, flexible, and great for joining data from many services.

But it is **not** the best tool for every job.

Some tasks are:

* too simple
* too heavy
* too large
* too straightforward

In those cases, REST is easier, faster, and cheaper.

Think of GraphQL like a **buffet**—excellent when you need many different items in one plate.
REST is like a **simple food counter**—perfect when you just want one item quickly.

---

## 2. Why This Matters

Choosing GraphQL everywhere can:

* slow development
* add unnecessary complexity
* create performance or security issues
* increase cost

A good backend developer should know **when to use GraphQL** and **when to keep it simple with REST**.

---

## 3. Real-Life Example Story

Imagine a small clinic.

Patients come for simple tasks:

* Download X-Ray
* Upload documents
* Submit a simple “request for appointment”
* Get a prescription PDF

If the receptionist asked you to fill a long complicated form for each small action, it would feel unnecessary.

Similarly, GraphQL can be **too much** for simple jobs.

REST works perfectly for these single-purpose actions.

---

## 4. Situations Where REST Is Better (With Small-Business Examples)

Below are **very practical examples** using:

* a clinic
* a retail shop
* a school
* a small online service

---

### **1) Simple CRUD for One Table**

(GraphQL adds no real value)

**Example: Clinic**

* “Add a new patient”
* “Update patient phone number”
* “Delete a failed test sample”

REST example:

```
POST /patients
PUT /patients/123
DELETE /patients/123
```

Straightforward → REST is perfect.

---

### **2) Heavy File Uploads / Downloads**

(GraphQL is not built for large binary data)

Examples:

* Clinic uploading X-Ray images
* Shop uploading product photos
* School uploading student report PDFs

REST example:

```
POST /upload/xray
POST /upload/product-image
GET /files/report.pdf
```

REST handles **multipart uploads**, large files, caching—GraphQL struggles here.

---

### **3) Streaming or Big Data Transfers**

(GraphQL queries get too heavy)

Examples:

* A school downloading all past exam results
* A shop exporting 100,000 sales logs
* A clinic downloading 1 GB of lab history

REST’s streaming response is better:

```
GET /export/sales.csv
GET /reports/lab-history
```

GraphQL endpoints are not meant for giant payloads.

---

### **4) When You Need Strong Caching at URL Level**

Browsers and CDNs cache REST URLs easily.

Examples:

* A shop’s product list `/products`
* School holidays `/holidays`
* Clinic’s available tests `/lab-tests`

REST:

```
GET /shop/products  → cached by CDN
```

GraphQL uses POST → harder to cache.

---

### **5) Very Predictable, Simple Endpoints**

GraphQL’s flexibility adds unnecessary complexity.

Examples:

* “Get today’s appointments”
* “Get today’s attendance list”
* “Get shop inventory snapshot”

REST is perfect:

```
GET /appointments/today
GET /attendance/today
GET /inventory/today
```

---

### **6) When Your Data Comes from Only ONE Table**

GraphQL shines when combining many sources.

If your data lives in **one table**:

Examples:

* School: “List all teachers”
* Shop: “List all categories”
* Clinic: “List all rooms”

REST is simpler.

---

### **7) When Your Team Is Small and Needs Simple Development**

GraphQL requires:

* deeper learning
* schema design
* resolvers
* gateway setup

For small local businesses (clinic, shop, school management), REST is easier to maintain.

---

### **8) When You Don’t Need Flexible Queries**

If the frontend always asks for fixed fields.

Examples:

* “Get patient card preview”
* “Get student ID card info”
* “Get shop’s daily closing balance”

REST is faster.

---

### **9) Very Strict Security Models**

Some industries prefer REST because:

* Access rules are easier
* Logging is simpler
* No deep nested field filtering

Examples:

* Pharmacy stock updates
* School payroll operations

REST gives tight control:
`POST /payroll/update-salary`

---

## 5. Simple Text Diagram

### When REST is better:

```
Frontend
   |
   v
REST Endpoint
   |
Database / File Storage
```

### When GraphQL is better:

```
Frontend
   |
   v
GraphQL Gateway
   |
   +-- User REST
   +-- Billing REST
   +-- Orders REST
```

Use GraphQL only when joining many services or fields.

---

## 6. How to Instruct Codex to Automate This

Here are ready prompts:

---

### Prompt 1 — List REST-friendly situations

> “Codex, list practical situations where REST is better than GraphQL, using examples from clinic management, retail shop management, and school management.”

---

### Prompt 2 — Suggest correct architecture

> “Codex, given a system requirement (file upload, simple CRUD, or exporting reports), suggest whether REST or GraphQL is better and explain why in simple terms.”

---

### Prompt 3 — Compare file upload styles

> “Codex, show REST endpoints for uploading x-rays, product photos, and student documents. Explain why these should not use GraphQL.”

---

### Prompt 4 — Generate real business examples

> “Codex, generate 10 small-business examples where REST is a better choice than GraphQL, with one-sentence explanations for each.”

---

## 7. Summary

1. GraphQL is **not** always the best tool.
2. REST is better for simple CRUD, large file uploads, predictable endpoints, and heavy downloads.
3. Always choose the tool based on **simplicity**, **performance**, and **business needs**.

