# 46. API Documentation with GraphiQL / Playground

**Self-Documenting Schema**

---

### 1. Introduction

One of the nicest features of GraphQL is that your API can **explain itself**.
This happens because every GraphQL server exposes something called **introspection**—a built-in way to list all types, queries, mutations, and fields.

Tools like **GraphiQL** and **GraphQL Playground** read this introspection data and show a beautiful, interactive API browser.
This means:

* You don’t need to manually write large API docs.
* Developers can explore your backend like browsing a menu.
* Everything updates automatically when schema changes.

---

### 2. Why this matters

For backend developers and students:

* You instantly see all Queries, Mutations, and Types.
* You can test requests directly from the UI.
* You can check field descriptions, arguments, and return types.
* You avoid version mismatches between documentation and actual API.
* It reduces support requests (“Which field should I use?”).

For microservices and agentic systems, this becomes very helpful because frontends and agents can discover your schema and build calls dynamically.

---

### 3. Real-life example

Think of it like visiting a **hospital information desk**:

* Instead of guessing which department handles what,
  the desk gives you a **live directory** showing every doctor, room number, schedule, etc.

GraphiQL / Playground does the same for your API:

* It shows each Query like a “department.”
* It shows each field and argument like “room numbers” and “working hours.”
* You can try out operations instantly, like “What if I search for patient with ID 5?”

No PDF manual needed.

---

### 4. Code + Usage Examples

#### 4.1. Enabling GraphiQL (Node + Apollo Server)

```javascript
import { ApolloServer } from '@apollo/server';
import { expressMiddleware } from '@apollo/server/express4';
import express from 'express';

const server = new ApolloServer({
  typeDefs,
  resolvers,
});

await server.start();

const app = express();
app.use('/graphql', expressMiddleware(server));

app.listen(4000, () => {
  console.log('GraphQL server at http://localhost:4000/graphql');
  console.log('Open browser → Apollo Sandbox UI will appear automatically.');
});
```

Apollo Sandbox (the modern GraphQL Playground) will open automatically if introspection is enabled.

---

#### 4.2. Enabling GraphiQL (Python + Ariadne)

```python
from ariadne import QueryType, make_executable_schema
from ariadne.asgi import GraphQL

type_defs = """
    type Query {
        hello: String!
    }
"""

query = QueryType()

@query.field("hello")
def resolve_hello(*_):
    return "Hello GraphQL"

schema = make_executable_schema(type_defs, query)

app = GraphQL(schema, debug=True)
```

Then open:
`http://localhost:8000/`
You will see **GraphiQL** automatically.

---

#### 4.3. What you can do inside GraphiQL / Playground

* Browse your entire schema
* Auto-complete queries
* See inline documentation
* Run queries and mutations
* View results immediately
* See argument types and validation hints
* Explore the “Docs” sidebar

Example query typed directly in the Playground:

```graphql
query {
  patient(id: 3) {
    name
    age
    visits {
      date
      diagnosis
    }
  }
}
```

The Playground helps you write this using auto-suggestions.

---

### 5. Simple Diagram

```
GraphQL Server (with introspection)
           ↓
   GraphiQL / Playground UI
           ↓
Auto-generated documentation
           ↓
Run queries, explore schema, test APIs
```

No extra documentation work is needed—schema becomes the documentation.

---

### 6. How to Instruct Codex

You can ask Codex to generate documentation sections for your repo.

Here are ready-made prompts:

1. **Explain Playground in simple terms**

   > “Explain how GraphQL Playground helps discover APIs, and generate a short ‘how to use’ section for my README.”

2. **Generate README usage instructions**

   > “Write a README section explaining how to open GraphQL Playground, run sample queries, and explore the schema.”

3. **Add sample queries**

   > “Add two example GraphQL queries and mutations to my README to help beginners test the API in Playground.”

4. **Guide for frontend developers**

   > “Generate a quick tutorial for frontend devs on how to use GraphiQL to see available types and fields.”

---

### 7. Summary

* GraphQL APIs automatically document themselves using introspection.
* GraphiQL / Playground reads this data and gives you a clean UI to explore everything.
* It is the easiest way to test your API and understand your schema.
* A short README section can help new developers start using the Playground instantly.

