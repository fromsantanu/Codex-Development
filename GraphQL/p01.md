
# Chapter 1. What Is GraphQL?

## 1. Introduction  
GraphQL is a simple way for a client to ask a backend exactly what it wants.  
Think of it like ordering food from a buffet instead of ordering fixed plates.  
In REST, every endpoint gives a fixed set of data.  
In GraphQL, the client chooses the fields it wants, and the server returns only those fields.  
This makes communication cleaner, faster, and more flexible.

---

## 2. Why This Matters  
- You stop over-fetching and under-fetching data.  
- One endpoint can serve many UI screens.  
- Changing frontend needs becomes easier.  
- Backend and frontend teams move faster without dependency headaches.

---

## 3. Real-Life Example (Buffet Story)  
Imagine a buffet.  
You take only rice, dal, and salad if that’s all you want.  
You don’t have to accept whatever someone serves on a fixed plate.

REST works like fixed thali plates:

```

GET /customer/5 → gives full customer info (name, email, address, phone)

```

Even if the UI needs only the **name**, it still receives everything.

GraphQL works like a buffet:

```

{
customer(id: 5) {
name
email
}
}

````

Here the client picks **only name and email**, nothing else.

---

## 4. Code Examples

### A. Simple GraphQL Schema  
```graphql
type Customer {
  id: ID!
  name: String!
  email: String!
  phone: String
}

type Query {
  customer(id: ID!): Customer
}
````

### B. GraphQL Query (Client Asking Only What It Needs)

```graphql
query {
  customer(id: 5) {
    name
  }
}
```

### C. Example Resolver (Backend)

```js
const resolvers = {
  Query: {
    customer: async (_, { id }, { db }) => {
      return db.customer.findById(id);
    }
  }
};
```

### D. REST vs GraphQL Side-by-Side

**REST**

```
GET /customers/5
→ returns full JSON, even fields you may not need.
```

**GraphQL**

```
query {
  customer(id: 5) {
    name
  }
}
→ returns only the name.
```

---

## 5. Diagram

```
Frontend (chooses fields)
        ↓
   GraphQL Server
        ↓
Resolver → Database
```

Another view:

```
Query → Resolver → Data Fetch → Return only selected fields
```

---

## 6. How to Instruct Codex (Copy-Paste Prompts)

**Prompt 1**
“Explain GraphQL to a backend developer who knows REST, using a simple buffet or restaurant example. Keep it short and very simple.”

**Prompt 2**
“Codex, generate a minimal GraphQL schema for Customer with id, name, email, phone.”

**Prompt 3**
“Codex, write a sample resolver for customer(id) that fetches from a database model.”

**Prompt 4**
“Codex, generate a side-by-side comparison of REST vs GraphQL for a customer detail screen.”

---

## 7. Summary

* GraphQL lets the client take only the data it needs.
* It works like a buffet: pick what you want.
* REST gives fixed plates; GraphQL gives flexible choices.
* Great for UIs where fields change frequently.

```
```

