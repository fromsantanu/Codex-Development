## **1. Simple Introduction**

When your app grows, you often find the same UI code written in many places:

* The same form layout
* The same table structure
* The same chart code

Instead of keeping many copies, you can ask **Codex** to help you:

1. **Extract repeated code** into a reusable function
2. **Parameterize components** (customize things like title, columns, API URL)
3. **Add clear docstrings and comments** so your teammates and students understand the code

Codex becomes your “smart assistant” that cleans, organizes, and improves your UI code.

---

## **2. Real-Life Analogy**

Imagine you are in a kitchen preparing meals.

If every chef cuts vegetables in a different way, it becomes confusing.
So the head chef creates a **standard method** and teaches everyone.

Codex plays the role of that head chef:

* It finds repeated steps
* Combines them into one neat method
* Labels everything clearly
* Makes sure the recipe is clean and reusable

---

## **3. Key Concepts (Explained Simply)**

### **1. Code Extraction**

Codex can take a messy block of repeated code and turn it into a reusable function.

### **2. Parameterization**

Instead of hardcoding values, Codex can help you add parameters like:

* `title="Patient List"`
* `columns=["name", "age"]`
* `api_url="..."`

This makes your component flexible.

### **3. Adding Docstrings and Comments**

Codex can rewrite your code with:

* Clean **docstrings**
* Helpful **comments**
* Clear explanations of parameters

This makes your code “student-friendly”.

---

## **4. Step-by-Step Explanation**

### **Step 1 – Tell Codex to extract repeated code**

You paste your code and say:

> “Codex, extract the repeated part into a reusable function.”

Codex will:

* Identify the repeated pattern
* Remove duplication
* Produce a clean reusable function

### **Step 2 – Tell Codex to parameterize**

Once the component is extracted, you can ask:

> “Make the title configurable.”
> “Allow me to pass custom columns.”
> “Make the chart type a parameter.”

Codex will rewrite the function cleanly.

### **Step 3 – Tell Codex to add comments**

You can simply ask:

> “Add docstrings and comments explaining what this component does and how to use it.”

Codex will make your function readable and understandable.

---

## **5. Small Example – Extracting a Reusable Component**

### **Before (messy NiceGUI form repeated 3 times)**

```python
ui.input("Patient Name")
ui.input("Age")
ui.textarea("Symptoms").props("rows=3")
```

### **Prompt to Codex**

> “Extract this patient form into a reusable function called patient_form(). Add docstrings and comments.”

### **After (Codex output)**

```python
def patient_form():
    """
    A reusable patient form component.

    Returns:
        tuple: name, age, symptoms objects
    """
    # Grouping inputs inside a column
    with ui.column():
        name = ui.input("Patient Name")
        age = ui.input("Age")
        symptoms = ui.textarea("Symptoms").props("rows=3")

    return name, age, symptoms
```

Clean. Reusable. Easy to use anywhere.

---

## **6. Example – Parameterizing Columns in Streamlit Table Component**

### **Before**

```python
st.table(data[["name", "age", "city"]])
```

### **Prompt to Codex**

> “Rewrite this table into a reusable function that takes a list of column names as a parameter.”

### **After**

```python
def show_table(data, columns, title="Data Table"):
    """
    Show a table with selected columns.

    Args:
        data (DataFrame): Input data.
        columns (list): Columns to include.
        title (str): Title for the table.
    """
    st.subheader(title)
    st.table(data[columns])
```

Now you can do:

```python
show_table(df, ["name", "age"], title="Patient Age Table")
```

---

## **7. Example – Parameterized Chart Wrapper**

### **Prompt to Codex**

> “Turn this chart code into a reusable function with parameters (api_url, chart_type, title). Add docstrings.”

### **Result**

```python
def api_chart(api_url, chart_type="bar", title="Chart"):
    """
    Fetch data from API and render a chart.

    Args:
        api_url (str): API endpoint.
        chart_type (str): 'bar' or 'line'.
        title (str): Chart title.
    """
    data = requests.get(api_url).json()
    labels = [item["label"] for item in data["rows"]]
    values = [item["value"] for item in data["rows"]]

    fig, ax = plt.subplots()
    if chart_type == "bar":
        ax.bar(labels, values)
    else:
        ax.plot(labels, values)

    ax.set_title(title)
    st.pyplot(fig)
```

This is a reusable chart component for any API.

---

## **8. How Codex Helps You Here**

You can copy-paste any code into Codex and give prompts such as:

### **Prompt 1 – Extract Function**

“Extract the repeated input fields into a reusable function called CustomerForm. Keep the code short and clean.”

### **Prompt 2 – Parameterize**

“Modify this component so the title and column list are parameters.”

### **Prompt 3 – Add Docstrings**

“Rewrite the function with proper docstrings and comments.”

### **Prompt 4 – Improve Readability**

“Make the code more readable and reorganize it into logical sections.”

### **Prompt 5 – Add Error Handling**

“Add simple error handling inside the chart wrapper, like try/except with a friendly message.”

Codex becomes your “pair programmer” who does the repetitive clean-up.

---

## **9. Mini Exercises for Students**

### **Exercise 1 — Extract Function**

Take a Streamlit form with 5 fields.
Ask Codex to extract it into a reusable `EmployeeForm`.

---

### **Exercise 2 — Parameterize**

Take a NiceGUI table and ask Codex:

> “Make this table accept columns and title as parameters.”

---

### **Exercise 3 — Add Documentation**

Paste your messy component into Codex and say:

> “Rewrite this component with clean docstrings and comments.”

---
