# **Chapter 48. Using Codex to Generate Docs and Comments**

## **1. Simple Introduction**

Documentation is like a friendly teacher sitting beside your code.
It explains:

* **What each function does**
* **What each parameter means**
* **How to use the code**
* **How the whole project works**

Many beginners skip writing comments and docstrings because it feels slow.
Codex makes this easy—it can automatically generate clean docstrings, Markdown docs, and even update them when your code changes.

This chapter shows how to use Codex to produce **clear documentation**, **proper comments**, and **auto-generated Markdown files**.

---

## **2. Real-Life Analogy**

Imagine you buy a new gadget with **no labels and no manual**.

* You don’t know which button does what
* You don’t know how to operate it
* You don’t know how to fix it if something goes wrong

Code without documentation feels exactly like that.

Codex acts like an assistant who reads your code and writes the “manual” for you.

---

## **3. Key Concepts (Explained Gently)**

### **Docstring**

A short description inside a function that explains:

* What the function does
* What the arguments are
* What it returns

Python docstrings are written using triple quotes.

### **Inline Comment**

A small note beside a line of code that explains why the line exists.

### **Markdown Documentation**

Readable documentation files (`README.md`, `API_USAGE.md`, etc.) written in Markdown format.

### **Keeping Code & Docs in Sync**

Updating docstrings and Markdown docs whenever code changes.

---

## **4. Step-by-Step Explanation**

### **Step 1: Start with Simple Functions**

Example code before adding documentation:

```python
def calculate_total(price, qty):
    return price * qty
```

### **Step 2: Ask Codex to Generate Docstrings**

Prompt:

> **“Add clean Google-style docstrings to this code.”**

Codex can produce:

```python
def calculate_total(price: float, qty: int) -> float:
    """
    Calculate the total cost.

    Args:
        price (float): Price of one item.
        qty (int): Number of items.

    Returns:
        float: Total cost (price × qty).
    """
    return price * qty
```

### **Step 3: Generate Markdown Documentation From Comments**

You can ask Codex:

> **“Create a Markdown file explaining all functions in this script using the docstrings.”**

Codex can produce a file like:

```
# Utility Functions

### calculate_total(price, qty)
Calculates total cost by multiplying price and quantity.
```

### **Step 4: Keep Docs & Code in Sync**

If you change your function:

```python
def calculate_total(price, qty, discount=0):
    return (price * qty) - discount
```

Ask Codex:

> **“Update docstrings and Markdown documentation based on the new code.”**

Codex automatically rewrites:

```python
def calculate_total(price: float, qty: int, discount: float = 0) -> float:
    """
    Calculate total cost after discount.

    Args:
        price (float): Price of one item.
        qty (int): Number of items.
        discount (float, optional): Discount amount. Defaults to 0.

    Returns:
        float: Final price after discount.
    """
```

---

## **5. Example UI Code (NiceGUI) With Codex Comments**

```python
from nicegui import ui

def show_total():
    """
    Simple demo function to calculate and show total cost.
    """
    price = float(price_input.value)
    qty = int(qty_input.value)
    total = price * qty
    result_label.set_text(f"Total: ₹{total}")

ui.label("Simple Bill Calculator")
price_input = ui.input("Price")
qty_input = ui.input("Quantity")
result_label = ui.label("")
ui.button("Calculate", on_click=show_total)

ui.run()
```

Codex can describe each part:

> “Explain this UI code with inline comments.”

---

## **6. Backend API Example Explained by Codex**

Example API:

```json
{
  "patient_id": 12,
  "visits": [
    {"date": "2025-01-10", "symptoms": "cough"},
    {"date": "2025-01-15", "symptoms": "fever"}
  ]
}
```

Ask Codex:

> **“Write a Markdown explanation of this API response for beginners.”**

It will create:

```
### /patients/{id}/visits

Returns all visits for a patient.

- `patient_id` — unique ID  
- `visits` — list of all visits  
  - `date` — visit date  
  - `symptoms` — what the patient reported
```

---

## **7. How Codex Can Help Here**

Here are ready-to-use prompts:

### **Docstring Prompts**

* “Add Google-style docstrings to every function in this file.”
* “Rewrite my docstrings to be simpler for beginners.”

### **Comment Prompts**

* “Add inline comments explaining each block of code.”
* “Explain this code in plain English as comments.”

### **Markdown Documentation Prompts**

* “Generate a README.md describing all modules and functions.”
* “Create API documentation in Markdown from this FastAPI code.”

### **Sync Prompts**

* “Update documentation after these code changes.”
* “List inconsistencies between code and documentation.”

Codex is excellent at summarizing and organizing code explanations.

---

## **8. Mini Exercises for Students**

### **Exercise 1**

Write a small Python function and ask Codex to generate a docstring.

### **Exercise 2**

Write a NiceGUI page (2–3 lines) and ask Codex to explain it using inline comments.

### **Exercise 3**

Give Codex a short script and tell it:
**“Generate Markdown documentation for this.”**

---
